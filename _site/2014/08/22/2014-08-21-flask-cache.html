<!DOCTYPE html>
<html>
<head>
　　<meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" type="text/css" media='screen' href='../css/bootstrap.min.css'>
    <link rel="stylesheet" type="text/css" media='screen' href='../css/site_style.css'>
    <script type="text/javascript" src='../js/jquery-1.9.1.min.js'></script>
    <script type="text/javascript" src='../js/bootstrap.min.js'></script>
　　<title>Flask 缓存相关</title>
</head>
<body>

<div class='navbar navbar-inverse navbar-fixed-top'>
        <div class='navbar-inner'>
          <div class='container'>
            <a href="https://github.com/skymoney"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://camo.githubusercontent.com/365986a132ccd6a44c23a9169022c0b5c890c387/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f7265645f6161303030302e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png"></a>
            <div class='nav-collapse collapse'>
              <ul class='nav'>
                <li>
                  <a href="../index.html">首页</a>
                </li>
                <li>
                  <a href="../blog_tab.html">博客</a>
                </li>
                <li>
                  <a href="../project.html">项目</a>
                </li>
                <li>
                  <a href="../about.html">关于</a>
                </li>
              </ul>
            </div>
          </div>
        </div>
</div>
  　<div id='mainContent' class='span8'>
	<h1 class='text-center'>Flask 缓存相关</h1>
	<hr style="border-top:1px solid #aaa;">
	<span class='font_large'><strong>关键词:</strong></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
	<span class='muted font_large'>python</span>
	<hr style="border-top:1px solid #aaa;">
	<p class='blog'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;最近在搭建的API平台中，整体采用的是Nginx 
	+ Flask + MongoDB，在最初的版本中，未加入认证等，而在Nginx中加入了Cache，这样是为了Client读取数据
	速度较快点，但在最近的新版本中，加入了认证，这里出现了问题，认证是在Flask中判定的，而Cache在Nginx转发
	前判定，这样会造成一个问题，在最初的认证完成后，同样的Client端在后续的读取中会得到缓存的内容，而不是先
	进行认证。这点显然是不行的，对应的解决方案也是有的，由于是两层结构</p>
	<img src='http://localhost:4000/assets/post_imgs/flask_cache/flask_cache_1.png'/>
	<p class='blog'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>
	<p class='blog'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>
	<p class='blog'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>
	<p class='blog'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>
	<p class='blog'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>
	<p class='blog'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>
</div>

<div id='footer-wrapper' class='span8'>
	<footer role='contentinfo'>
    <hr style="border-top:2px solid #aaa;">
		<span class='muted text-center' style='padding-left: 30%; font-size: 20px'>Powered By <a href='http://jekyllrb.com/'>JekyII</a>&nbsp;and&nbsp;<a href="http://www.github.com">GitHub</a>&nbsp;&nbsp;Author@<a href="http://www.skymoneyc.com">SkyMoney</a></span>
	</footer>
</div>
</body>
</html>